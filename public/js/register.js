// Generated by CoffeeScript 1.6.3
$(document).ready(function() {
  var addVerify,
    _this = this;
  addVerify = function() {
    return $('.verifyCode').fadeIn(300);
  };
  $('#signup').submit(function(e) {
    e.preventDefault();
    $.ajax({
      type: "POST",
      url: '/register',
      data: $('#signup').serialize(),
      success: addVerify()
    });
    return false;
  });
  return $('.codeSubmit').click(function(e) {
    var data,
      _this = this;
    e.preventDefault();
    data = {
      'phone_number': $('input[name="phone_number"]').val(),
      'code': $('input[name="code"]').val()
    };
    $.ajax({
      type: "POST",
      url: '/verify',
      data: data,
      success: function() {
        $('.status .alert-box').hide();
        $('.success').fadeIn(300);
        return setTimeout(function() {
          return document.location = '/success';
        }, 1000);
      },
      error: function() {
        $('.status .alert-box').hide();
        return $('.error').fadeIn(300);
      }
    });
    return false;
  });
});
